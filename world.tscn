[gd_scene load_steps=20 format=3 uid="uid://di4uiqohlx2qw"]

[ext_resource type="Script" path="res://camera.gd" id="1_6soux"]
[ext_resource type="PackedScene" uid="uid://cdudyaojxmf5b" path="res://character.tscn" id="1_c4pgj"]
[ext_resource type="Script" path="res://level_manager.gd" id="1_y802r"]
[ext_resource type="PackedScene" uid="uid://dmgnegofbm8i0" path="res://outlands.tscn" id="2_6m3ar"]
[ext_resource type="Texture2D" uid="uid://drkmorxj7srgm" path="res://assets/cauldron.png" id="2_h2qva"]
[ext_resource type="Material" uid="uid://6rno7n4h3tmh" path="res://pixelscaling.tres" id="2_thixl"]
[ext_resource type="Script" path="res://ui.gd" id="3_2dt8t"]
[ext_resource type="Script" path="res://resources.gd" id="4_dx30y"]
[ext_resource type="Texture2D" uid="uid://dyonwqexiotim" path="res://assets/key_1.png" id="5_8587g"]
[ext_resource type="Texture2D" uid="uid://id26krvsng4y" path="res://assets/spellslots.png" id="5_ul220"]
[ext_resource type="Texture2D" uid="uid://dks0badrcgdpw" path="res://assets/key_2.png" id="6_ustib"]
[ext_resource type="Script" path="res://Spellslots.gd" id="7_87xio"]
[ext_resource type="Texture2D" uid="uid://c6usiuxdbx3kd" path="res://assets/key_3.png" id="7_xw07i"]
[ext_resource type="Texture2D" uid="uid://tu5dunhlwvj3" path="res://assets/key_4.png" id="8_q4npa"]
[ext_resource type="Texture2D" uid="uid://uy11f7fickb4" path="res://assets/recticle.png" id="15_nspx7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m8you"]

[sub_resource type="Animation" id="Animation_uflhc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("fade:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_jtfs1"]
resource_name = "fade"
length = 0.25
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("fade:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_kndt4"]
_data = {
"RESET": SubResource("Animation_uflhc"),
"fade": SubResource("Animation_jtfs1")
}

[node name="world" type="Node2D"]

[node name="level" type="Node2D" parent="."]
script = ExtResource("1_y802r")

[node name="outlands" parent="level" instance=ExtResource("2_6m3ar")]

[node name="crafting" type="CharacterBody2D" parent="."]
visible = false
position = Vector2(803, 552)
scale = Vector2(6, 6)

[node name="Sprite2D" type="Sprite2D" parent="crafting"]
texture_filter = 2
material = ExtResource("2_thixl")
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_h2qva")

[node name="CollisionShape2D" type="CollisionShape2D" parent="crafting"]
shape = SubResource("RectangleShape2D_m8you")

[node name="projectiles" type="Node" parent="."]

[node name="character" parent="." node_paths=PackedStringArray("element_input_label") instance=ExtResource("1_c4pgj")]
position = Vector2(496, 94)
SPEED = 250
CAMERA_INPUT_UPDATE = 0.05
DASH_LENGTH = 100
CAMERA_TRACKING_OFFSET = 300
ELEMENT_INPUT_TIMEOUT = 1.2
PUSH_STRENGTH = 90
element_input_label = NodePath("../ui/Label")

[node name="camera" type="Camera2D" parent="."]
position = Vector2(343, 194)
zoom = Vector2(0.7, 0.7)
script = ExtResource("1_6soux")
SMOOTHING_SPEED = 3.0
MAX_OFFSET = 100.0
current_scene = "res://outlands.tscn"
polygon_restraint_target = "camp"

[node name="ColorRect" type="ColorRect" parent="camera"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.156863, 1, 1)

[node name="mouse_span" type="ColorRect" parent="camera"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -494.5
offset_top = -328.0
offset_right = 494.5
offset_bottom = 328.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.156863, 1, 0.403922)

[node name="test_camera" type="Camera2D" parent="."]
visible = false
position = Vector2(3116, 2698)
enabled = false
zoom = Vector2(0.19, 0.19)

[node name="ui" type="CanvasLayer" parent="."]
script = ExtResource("3_2dt8t")

[node name="Label" type="Label" parent="ui"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -150.0
offset_top = -94.0
offset_right = -110.0
offset_bottom = -71.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(7.56, 8.2)
size_flags_horizontal = 4

[node name="debug_current_room" type="Label" parent="ui"]
offset_right = 40.0
offset_bottom = 23.0

[node name="magic" type="Node2D" parent="ui"]

[node name="earth" type="Node2D" parent="ui/magic"]
position = Vector2(40, 174)
scale = Vector2(0.4, 0.4)
script = ExtResource("4_dx30y")
meter_color = Color(0.51027, 0.73, 0.1022, 1)

[node name="Polygon2D" type="Polygon2D" parent="ui/magic/earth"]
z_index = -1
position = Vector2(2, -1)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1, -22, 16, -19, 18, -6, 17, 13, 11, 23, -7, 26, -20, 17, -23, 2, -22, -9, -15, -18)

[node name="Label" type="Label" parent="ui/magic/earth"]
offset_left = -8.0
offset_top = -32.0
offset_right = 32.0
offset_bottom = -9.0
scale = Vector2(2.09901, 2.68)
text = "2"

[node name="air" type="Node2D" parent="ui/magic"]
position = Vector2(36, 232)
scale = Vector2(0.4, 0.4)
script = ExtResource("4_dx30y")
meter_color = Color(0.8827, 0.906815, 0.91, 1)

[node name="Polygon2D2" type="Polygon2D" parent="ui/magic/air"]
z_index = -1
position = Vector2(-1, -3)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1, -22, 16, -19, 18, -6, 17, 13, 11, 23, -7, 26, -20, 17, -23, 2, -22, -9, -15, -18)

[node name="Label" type="Label" parent="ui/magic/air"]
offset_left = -11.0
offset_top = -32.0
offset_right = 29.0
offset_bottom = -9.0
scale = Vector2(2.09901, 2.68)
text = "0"

[node name="fire" type="Node2D" parent="ui/magic"]
position = Vector2(451, 192)
scale = Vector2(0.4, 0.4)
script = ExtResource("4_dx30y")
meter_color = Color(0.99, 0.1122, 0.0495, 1)

[node name="Polygon2D3" type="Polygon2D" parent="ui/magic/fire"]
z_index = -1
position = Vector2(0, -4)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1, -22, 16, -19, 18, -6, 17, 13, 11, 23, -7, 26, -20, 17, -23, 2, -22, -9, -15, -18)

[node name="Label" type="Label" parent="ui/magic/fire"]
offset_left = -10.0
offset_top = -33.0
offset_right = 30.0
offset_bottom = -10.0
scale = Vector2(2.09901, 2.68)
text = "2"

[node name="water" type="Node2D" parent="ui/magic"]
position = Vector2(453, 241)
scale = Vector2(0.4, 0.4)
script = ExtResource("4_dx30y")
meter_color = Color(0.1092, 0.74984, 0.91, 1)

[node name="Polygon2D4" type="Polygon2D" parent="ui/magic/water"]
z_index = -1
position = Vector2(1, -2)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1, -22, 16, -19, 18, -6, 17, 13, 11, 23, -7, 26, -20, 17, -23, 2, -22, -9, -15, -18)

[node name="Label" type="Label" parent="ui/magic/water"]
offset_left = -10.0
offset_top = -33.0
offset_right = 30.0
offset_bottom = -10.0
scale = Vector2(2.09901, 2.68)
text = "0"

[node name="Spellslots" type="Sprite2D" parent="ui/magic" node_paths=PackedStringArray("key_input_label")]
position = Vector2(243, 249)
scale = Vector2(0.322364, 0.322364)
texture = ExtResource("5_ul220")
script = ExtResource("7_87xio")
key_input_label = NodePath("../../Label")

[node name="slot1" type="Node2D" parent="ui/magic/Spellslots"]
position = Vector2(-515, 1)

[node name="ColorRect" type="ColorRect" parent="ui/magic/Spellslots/slot1"]
offset_left = -36.0
offset_top = -36.0
offset_right = 34.0
offset_bottom = 33.0
color = Color(1, 0.23, 0.23, 1)

[node name="keys" type="Node2D" parent="ui/magic/Spellslots/slot1"]
modulate = Color(0, 0, 0, 1)
position = Vector2(-1, -1)

[node name="1" type="Sprite2D" parent="ui/magic/Spellslots/slot1/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("5_8587g")

[node name="2" type="Sprite2D" parent="ui/magic/Spellslots/slot1/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("6_ustib")

[node name="3" type="Sprite2D" parent="ui/magic/Spellslots/slot1/keys"]
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("7_xw07i")

[node name="4" type="Sprite2D" parent="ui/magic/Spellslots/slot1/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("8_q4npa")

[node name="slot2" type="Node2D" parent="ui/magic/Spellslots"]
position = Vector2(-429, 1)

[node name="ColorRect" type="ColorRect" parent="ui/magic/Spellslots/slot2"]
offset_left = -36.0
offset_top = -36.0
offset_right = 34.0
offset_bottom = 33.0
color = Color(1, 0.23, 0.23, 1)

[node name="keys" type="Node2D" parent="ui/magic/Spellslots/slot2"]
modulate = Color(0, 0, 0, 1)
position = Vector2(-1, -1)

[node name="1" type="Sprite2D" parent="ui/magic/Spellslots/slot2/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("5_8587g")

[node name="2" type="Sprite2D" parent="ui/magic/Spellslots/slot2/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("6_ustib")

[node name="3" type="Sprite2D" parent="ui/magic/Spellslots/slot2/keys"]
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("7_xw07i")

[node name="4" type="Sprite2D" parent="ui/magic/Spellslots/slot2/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("8_q4npa")

[node name="slot3" type="Node2D" parent="ui/magic/Spellslots"]
position = Vector2(-343, 1)

[node name="ColorRect" type="ColorRect" parent="ui/magic/Spellslots/slot3"]
offset_left = -36.0
offset_top = -36.0
offset_right = 34.0
offset_bottom = 33.0
color = Color(0.509804, 0.729412, 0.101961, 1)

[node name="keys" type="Node2D" parent="ui/magic/Spellslots/slot3"]
modulate = Color(0, 0, 0, 1)
position = Vector2(-1, -1)

[node name="1" type="Sprite2D" parent="ui/magic/Spellslots/slot3/keys"]
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("5_8587g")

[node name="2" type="Sprite2D" parent="ui/magic/Spellslots/slot3/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("6_ustib")

[node name="3" type="Sprite2D" parent="ui/magic/Spellslots/slot3/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("7_xw07i")

[node name="4" type="Sprite2D" parent="ui/magic/Spellslots/slot3/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("8_q4npa")

[node name="slot4" type="Node2D" parent="ui/magic/Spellslots"]
visible = false
position = Vector2(-257, 1)

[node name="ColorRect" type="ColorRect" parent="ui/magic/Spellslots/slot4"]
offset_left = -36.0
offset_top = -36.0
offset_right = 34.0
offset_bottom = 33.0

[node name="keys" type="Node2D" parent="ui/magic/Spellslots/slot4"]
modulate = Color(0, 0, 0, 1)
position = Vector2(-1, -1)

[node name="1" type="Sprite2D" parent="ui/magic/Spellslots/slot4/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("5_8587g")

[node name="2" type="Sprite2D" parent="ui/magic/Spellslots/slot4/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("6_ustib")

[node name="3" type="Sprite2D" parent="ui/magic/Spellslots/slot4/keys"]
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("7_xw07i")

[node name="4" type="Sprite2D" parent="ui/magic/Spellslots/slot4/keys"]
visible = false
position = Vector2(1, 1)
scale = Vector2(3, 3)
texture = ExtResource("8_q4npa")

[node name="ColorRect" type="ColorRect" parent="ui"]
visible = false
offset_left = 144.0
offset_top = 53.0
offset_right = 184.0
offset_bottom = 93.0
scale = Vector2(4.89506, 3.51253)

[node name="Label" type="Label" parent="ui/ColorRect"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "craft"

[node name="fade" type="ColorRect" parent="ui"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
color = Color(0, 0, 0, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="ui"]
libraries = {
"": SubResource("AnimationLibrary_kndt4")
}

[node name="recticle" type="Sprite2D" parent="ui"]
texture = ExtResource("15_nspx7")
